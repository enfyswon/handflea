<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="OrderMapper">

	<select id="buyOrderList" parameterType="kr.co.handflea.product.ProductDTO" resultType="kr.co.handflea.product.ProductDTO">
	select p.prdt_no, p.prdt_name, o.option_no, o.option_contents, p.price, 
		   p.delivery_price, p.thumbnail_name, p.thumbnail_path,
		   (p.price * #{buy_qty}) + p.delivery_price total_price, #{buy_qty} as buy_qty
		   from product p, prdt_option o
		   where p.prdt_no = #{prdt_no}
           and o.option_no = #{option_no}
	</select>
	
	<select id="buyerInfo" parameterType="java.lang.String" resultType="kr.co.handflea.util.dto.MemberDTO">
	select mem_no, mem_name, pnum, post_code, add_1, add_2
	from member
	where mem_no = #{mem_no}
	</select>

</mapper>
